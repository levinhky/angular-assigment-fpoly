<div class="my-3">
  <a class="btn btn-info text-white w-25 " data-bs-toggle="modal" data-bs-target="#createModal">Tạo
    công việc mới</a>
  <div class="float-end">
    <input type="text" placeholder="Tìm kiếm công việc" class="form-control">
  </div>
</div>

<h4 class="my-3 text-primary">Danh sách công việc trong dự án</h4>
<table class="table">
  <thead>
    <tr>
      <th scope="col">Tên task</th>
      <th scope="col">Mô tả</th>
      <th scope="col">Người thực hiện</th>
      <th scope="col">Độ ưu tiên</th>
      <th scope="col">Trạng thái</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let task of taskList">
      <td>{{task.taskName}}</td>
      <td>{{task.taskDescription}}</td>
      <td>{{task.taskImplementer}}</td>
      <td>{{task.taskPriority}}</td>
      <td>{{task.taskStatus}}</td>
    </tr>
  </tbody>

</table>

<div *ngIf="taskList.length == 0">
  Không tìm thấy task nào!
</div>

<!-- Modal create-->
<div class="modal fade" id="createModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"
  *ngIf="taskList">
  <div class="modal-dialog">
    <div class="modal-content" style="width:700px">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Thêm công việc mới</h5>
        <a type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></a>
      </div>
      <div class="modal-body">
        <form (ngSubmit)="formCreateSubmit()" #formCreate="ngForm" action="">

          <div class="mb-3 row">
            <label for="taskName" class="col-sm-2 col-form-label">Tên công việc</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="taskName" name="taskName" required ngModel
                [(ngModel)]="task.taskName">
            </div>
          </div>
          <div class="mb-3 row">
            <label for="taskDescription" class="col-sm-2 col-form-label">Mô tả</label>
            <div class="col-sm-10">
              <textarea class="form-control" placeholder="Nhập mô tả công việc" name="taskDescription"
                id="taskDescription" cols="30" rows="5" [(ngModel)]="task.taskDescription"></textarea>
            </div>
          </div>
          <div class="mb-3 row">
            <label for="taskImplementer" class="col-sm-2 col-form-label">Người thực hiện</label>
            <div class="col-sm-10">
              <select class="form-select" name="taskImplementer" id="taskImplementer"
                [(ngModel)]="task.taskImplementer">
                <option [value]="e.employeeName" *ngFor="let e of employeeList">{{e.employeeName}}</option>
              </select>
            </div>
          </div>
          <div class="mb-3 row">
            <label for="taskPriority" class="col-sm-2 col-form-label">Độ ưu tiên</label>
            <div class="col-sm-10">
              <select class="form-select" name="taskPriority" id="taskPriority" [(ngModel)]="task.taskPriority">
                <option value="Cao">Cao</option>
                <option value="Trung Bình">Trung Bình</option>
                <option value="Thấp">Thấp</option>
              </select>
            </div>
          </div>

          <div class="modal-footer">
            <a type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</a>
            <button type="button" (click)="formCreateSubmit()" class="btn btn-primary" data-bs-dismiss="modal"
              [disabled]="formCreate.invalid">Thêm dự án</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>